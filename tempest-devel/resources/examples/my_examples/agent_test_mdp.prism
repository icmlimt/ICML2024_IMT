mdp

formula AgentCannotMoveNorth = (xAgent=2&yAgent=1) | (xAgent=3&yAgent=1) | (xAgent=4&yAgent=1) | (xAgent=5&yAgent=1) | (xAgent=6&yAgent=1) | (xAgent=7&yAgent=1) | (xAgent=8&yAgent=1) | (xAgent=9&yAgent=1) | (xAgent=1&yAgent=1);
formula AgentCannotMoveEast  = (xAgent=9&yAgent=1) | (xAgent=9&yAgent=2) | (xAgent=9&yAgent=4) | (xAgent=9&yAgent=5) | (xAgent=9&yAgent=6) | (xAgent=9&yAgent=7) | (xAgent=9&yAgent=8) | (xAgent=9&yAgent=9) | (xAgent=9&yAgent=3);
formula AgentCannotMoveSouth = (xAgent=4&yAgent=9) | (xAgent=5&yAgent=9) | (xAgent=6&yAgent=9) | (xAgent=7&yAgent=9) | (xAgent=8&yAgent=9) | (xAgent=9&yAgent=9) | (xAgent=1&yAgent=9) | (xAgent=2&yAgent=9) | (xAgent=3&yAgent=9);
formula AgentCannotMoveWest  = (xAgent=1&yAgent=2) | (xAgent=1&yAgent=3) | (xAgent=1&yAgent=4) | (xAgent=1&yAgent=5) | (xAgent=1&yAgent=6) | (xAgent=1&yAgent=7) | (xAgent=1&yAgent=8) | (xAgent=1&yAgent=1) | (xAgent=1&yAgent=9);
formula AgentIsOnSlippery = false;
formula AgentIsInLava = (xAgent=3&yAgent=2) | (xAgent=4&yAgent=2) | (xAgent=5&yAgent=2) | (xAgent=9&yAgent=3) | (xAgent=5&yAgent=4) | (xAgent=6&yAgent=4) | (xAgent=2&yAgent=6) | (xAgent=3&yAgent=6) | (xAgent=4&yAgent=6) | (xAgent=7&yAgent=6) | (xAgent=8&yAgent=6) | (xAgent=6&yAgent=8) | (xAgent=7&yAgent=8) | (xAgent=1&yAgent=9) | (xAgent=2&yAgent=9) | (xAgent=3&yAgent=9);

formula AgentIsInGoal = (xAgent=9&yAgent=9);
module Agent
	xAgent : [1..10] init 1;
	yAgent : [1..10] init 1;

	viewAgent : [0..3] init 0;

	[Agent_turn_right]   true -> (viewAgent'=mod(viewAgent + 1, 4)) ;
	[Agent_turn_left]    viewAgent>0 -> (viewAgent'=viewAgent - 1) ;
	[Agent_turn_left]    viewAgent=0 -> (viewAgent'=3) ;


	[Agent_move_north]  viewAgent=3 &  !AgentIsOnSlippery & !AgentIsInLava &!AgentIsInGoal &  !AgentCannotMoveNorth -> (yAgent'=yAgent-1);
	[Agent_move_east]   viewAgent=0 &  !AgentIsOnSlippery & !AgentIsInLava &!AgentIsInGoal &  !AgentCannotMoveEast  -> (xAgent'=xAgent+1);
	[Agent_move_south]  viewAgent=1 &  !AgentIsOnSlippery & !AgentIsInLava &!AgentIsInGoal &  !AgentCannotMoveSouth -> (yAgent'=yAgent+1);
	[Agent_move_west]   viewAgent=2 &  !AgentIsOnSlippery & !AgentIsInLava &!AgentIsInGoal &  !AgentCannotMoveWest  -> (xAgent'=xAgent-1);
	[Agent_done] AgentIsOnSlippery | AgentIsInLava -> true;

endmodule

rewards
	(xAgent=3&yAgent=2) | (xAgent=4&yAgent=2) | (xAgent=5&yAgent=2) | (xAgent=9&yAgent=3) | (xAgent=5&yAgent=4) | (xAgent=6&yAgent=4) | (xAgent=2&yAgent=6) | (xAgent=3&yAgent=6) | (xAgent=4&yAgent=6) | (xAgent=7&yAgent=6) | (xAgent=8&yAgent=6) | (xAgent=6&yAgent=8) | (xAgent=7&yAgent=8) | (xAgent=1&yAgent=9) | (xAgent=2&yAgent=9) | (xAgent=3&yAgent=9): -100;
	(xAgent=9&yAgent=9): 100;
	xAgent=0&yAgent=0 : 0;
	xAgent=0&yAgent=1 : 0;
	xAgent=0&yAgent=2 : 0;
	xAgent=0&yAgent=3 : 0;
	xAgent=0&yAgent=4 : 0;
	xAgent=0&yAgent=5 : 0;
	xAgent=0&yAgent=6 : 0;
	xAgent=0&yAgent=7 : 0;
	xAgent=0&yAgent=8 : 0;
	xAgent=0&yAgent=9 : 0;
	xAgent=0&yAgent=10 : 0;
	xAgent=1&yAgent=0 : 0;
	xAgent=1&yAgent=1 : -1;
	xAgent=1&yAgent=2 : -0.9375;
	xAgent=1&yAgent=3 : -0.875;
	xAgent=1&yAgent=4 : -0.8125;
	xAgent=1&yAgent=5 : -0.75;
	xAgent=1&yAgent=6 : -0.6875;
	xAgent=1&yAgent=7 : -0.625;
	xAgent=1&yAgent=8 : -0.5625;
	xAgent=1&yAgent=9 : 0;
	xAgent=1&yAgent=10 : 0;
	xAgent=2&yAgent=0 : 0;
	xAgent=2&yAgent=1 : -0.9375;
	xAgent=2&yAgent=2 : -0.875;
	xAgent=2&yAgent=3 : -0.8125;
	xAgent=2&yAgent=4 : -0.75;
	xAgent=2&yAgent=5 : -0.6875;
	xAgent=2&yAgent=6 : 0;
	xAgent=2&yAgent=7 : -0.5625;
	xAgent=2&yAgent=8 : -0.5;
	xAgent=2&yAgent=9 : 0;
	xAgent=2&yAgent=10 : 0;
	xAgent=3&yAgent=0 : 0;
	xAgent=3&yAgent=1 : -0.875;
	xAgent=3&yAgent=2 : 0;
	xAgent=3&yAgent=3 : -0.75;
	xAgent=3&yAgent=4 : -0.6875;
	xAgent=3&yAgent=5 : -0.625;
	xAgent=3&yAgent=6 : 0;
	xAgent=3&yAgent=7 : -0.5;
	xAgent=3&yAgent=8 : -0.4375;
	xAgent=3&yAgent=9 : 0;
	xAgent=3&yAgent=10 : 0;
	xAgent=4&yAgent=0 : 0;
	xAgent=4&yAgent=1 : -0.8125;
	xAgent=4&yAgent=2 : 0;
	xAgent=4&yAgent=3 : -0.6875;
	xAgent=4&yAgent=4 : -0.625;
	xAgent=4&yAgent=5 : -0.5625;
	xAgent=4&yAgent=6 : 0;
	xAgent=4&yAgent=7 : -0.4375;
	xAgent=4&yAgent=8 : -0.375;
	xAgent=4&yAgent=9 : -0.3125;
	xAgent=4&yAgent=10 : 0;
	xAgent=5&yAgent=0 : 0;
	xAgent=5&yAgent=1 : -0.75;
	xAgent=5&yAgent=2 : 0;
	xAgent=5&yAgent=3 : -0.625;
	xAgent=5&yAgent=4 : 0;
	xAgent=5&yAgent=5 : -0.5;
	xAgent=5&yAgent=6 : -0.4375;
	xAgent=5&yAgent=7 : -0.375;
	xAgent=5&yAgent=8 : -0.3125;
	xAgent=5&yAgent=9 : -0.25;
	xAgent=5&yAgent=10 : 0;
	xAgent=6&yAgent=0 : 0;
	xAgent=6&yAgent=1 : -0.6875;
	xAgent=6&yAgent=2 : -0.625;
	xAgent=6&yAgent=3 : -0.5625;
	xAgent=6&yAgent=4 : 0;
	xAgent=6&yAgent=5 : -0.4375;
	xAgent=6&yAgent=6 : -0.375;
	xAgent=6&yAgent=7 : -0.3125;
	xAgent=6&yAgent=8 : 0;
	xAgent=6&yAgent=9 : -0.1875;
	xAgent=6&yAgent=10 : 0;
	xAgent=7&yAgent=0 : 0;
	xAgent=7&yAgent=1 : -0.625;
	xAgent=7&yAgent=2 : -0.5625;
	xAgent=7&yAgent=3 : -0.5;
	xAgent=7&yAgent=4 : -0.4375;
	xAgent=7&yAgent=5 : -0.375;
	xAgent=7&yAgent=6 : 0;
	xAgent=7&yAgent=7 : -0.25;
	xAgent=7&yAgent=8 : 0;
	xAgent=7&yAgent=9 : -0.125;
	xAgent=7&yAgent=10 : 0;
	xAgent=8&yAgent=0 : 0;
	xAgent=8&yAgent=1 : -0.5625;
	xAgent=8&yAgent=2 : -0.5;
	xAgent=8&yAgent=3 : -0.4375;
	xAgent=8&yAgent=4 : -0.375;
	xAgent=8&yAgent=5 : -0.3125;
	xAgent=8&yAgent=6 : 0;
	xAgent=8&yAgent=7 : -0.1875;
	xAgent=8&yAgent=8 : -0.125;
	xAgent=8&yAgent=9 : -0.0625;
	xAgent=8&yAgent=10 : 0;
	xAgent=9&yAgent=0 : 0;
	xAgent=9&yAgent=1 : -0.625;
	xAgent=9&yAgent=2 : -0.5625;
	xAgent=9&yAgent=3 : 0;
	xAgent=9&yAgent=4 : -0.3125;
	xAgent=9&yAgent=5 : -0.25;
	xAgent=9&yAgent=6 : -0.1875;
	xAgent=9&yAgent=7 : -0.125;
	xAgent=9&yAgent=8 : -0.0625;
	xAgent=9&yAgent=9 : 0;
	xAgent=9&yAgent=10 : 0;
	xAgent=10&yAgent=0 : 0;
	xAgent=10&yAgent=1 : 0;
	xAgent=10&yAgent=2 : 0;
	xAgent=10&yAgent=3 : 0;
	xAgent=10&yAgent=4 : 0;
	xAgent=10&yAgent=5 : 0;
	xAgent=10&yAgent=6 : 0;
	xAgent=10&yAgent=7 : 0;
	xAgent=10&yAgent=8 : 0;
	xAgent=10&yAgent=9 : 0;
	xAgent=10&yAgent=10 : 0;
endrewards
